/*middlewares = [...];
input ={...}

for(var a = 0; a < premiddlewares.length; ++a)
{
  input = middlewares[a](input);
}

dispatch(input);

for(var a = 0; a < premiddlewares.length; ++a)
{
  input = middlewares[a](input);
}0

//////////////
var dispatchMe = dispatcher.dispatch;

for(var a = 0; a < middlewares.length - 1; ++a){
  dispatchMe = function
}
middlewares[middlewares.length - 1].next = dispatch;


output = await middlewares[0].dispatch(input);

/////

run(input)
{
  //do my pre
  input.id = asdasd
  var ret = .await next(input);
  //do my post
  ret.id = asdasd
 return ret;
}*/